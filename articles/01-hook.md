# –Ø —Å–¥–µ–ª–∞–ª Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –≤ –í–∫—É—Å–í–∏–ª–ª –≥–æ–ª–æ—Å–æ–º. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

> **–•–∞–±—ã:** Telegram, –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥ e-commerce, Python  
> **–¢–µ–≥–∏:** `gigachat`, `mcp`, `telegram-bot`, `python`, `aiogram`, `function-calling`  
> **–£—Ä–æ–≤–µ–Ω—å:** —Å—Ä–µ–¥–Ω–∏–π  
> **–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è:** ~12 –º–∏–Ω—É—Ç

---

–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é —è —Ç—Ä–∞—á—É 15‚Äì20 –º–∏–Ω—É—Ç –Ω–∞ –∑–∞–∫–∞–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–∑ –í–∫—É—Å–í–∏–ª–ª: –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥, –Ω–∞–π—Ç–∏ –º–æ–ª–æ–∫–æ, –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É, –Ω–∞–π—Ç–∏ —Ö–ª–µ–±, –¥–æ–±–∞–≤–∏—Ç—å, –Ω–∞–π—Ç–∏ —Å—ã—Ä‚Ä¶ –î–≤–∞–¥—Ü–∞—Ç—å –∫–ª–∏–∫–æ–≤ —Ä–∞–¥–∏ —Ç–æ–≥–æ, —á—Ç–æ –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–æ–π: ¬´–°–æ–±–µ—Ä–∏ –∑–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö¬ª. 

–Ø –ø–æ–¥—É–º–∞–ª: –∞ —á—Ç–æ –µ—Å–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –≥–æ–ª–æ—Å–æ–º ¬´–∑–∞–∫–∞–∂–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –ø–∞—Å—Ç—ã –∫–∞—Ä–±–æ–Ω–∞—Ä–∞ –Ω–∞ —á–µ—Ç–≤–µ—Ä—ã—Ö¬ª ‚Äî –∏ —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥ –ø–æ–ª—É—á–∏—Ç—å –≥–æ—Ç–æ–≤—É—é –∫–æ—Ä–∑–∏–Ω—É —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ?

–¢–∞–∫ —è –∏ —Å–¥–µ–ª–∞–ª. –ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ —á–µ—Ä–µ–∑ **GigaChat** (–°–±–µ—Ä), –∏—â–µ—Ç —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ **MCP-–ø—Ä–æ—Ç–æ–∫–æ–ª** (Model Context Protocol) –í–∫—É—Å–í–∏–ª–ª –∏ —Å–∞–º —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ ‚Äî –∫–∞–∫ –≤—Å—ë —É—Å—Ç—Ä–æ–µ–Ω–æ, –æ—Ç –∏–¥–µ–∏ –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞.

**–ö–æ–º—É –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ:** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –¥—É–º–∞—é—Ç –æ –±–æ—Ç–∞—Ö —Å –ò–ò; —Ç–µ–º, –∫—Ç–æ —Ö–æ—á–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ GigaChat function calling –∏–ª–∏ MCP; –∏ –≤—Å–µ–º, –∫–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫ LLM –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω—É.

---

## –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç

–î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–∑—É –∫ –¥–µ–ª—É. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∏–ø–∏—á–Ω—ã–π –¥–∏–∞–ª–æ–≥:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–æ–±–µ—Ä–∏ –∑–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö

–ë–æ—Ç: üõí –ó–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö (5 —Ç–æ–≤–∞—Ä–æ–≤, 612 —Ä—É–±):
1. –Ø–π—Ü–∞ –∫—É—Ä–∏–Ω—ã–µ –°0, 10 —à—Ç ‚Äî 89 —Ä—É–± √ó 1 = 89 —Ä—É–±
2. –•–ª–µ–± –±–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π –Ω–∞—Ä–µ–∑–Ω–æ–π ‚Äî 65 —Ä—É–± √ó 1 = 65 —Ä—É–±
3. –ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ 82.5%, 180 –≥ ‚Äî 169 —Ä—É–± √ó 1 = 169 —Ä—É–±
4. –°—ã—Ä –ú–∞–∞—Å–¥–∞–º –Ω–∞—Ä–µ–∑–∫–∞, 125 –≥ ‚Äî 159 —Ä—É–± √ó 1 = 159 —Ä—É–±
5. –ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–æ–∫, 1 –ª ‚Äî 130 —Ä—É–± √ó 1 = 130 —Ä—É–±

–ò—Ç–æ–≥–æ: 612 —Ä—É–±
–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É (—Å—Å—ã–ª–∫–∞)

–ù–∞–ª–∏—á–∏–µ –∏ —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –ø—Ä–∏ 
–æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É. –¶–µ–Ω—ã —É—Ç–æ—á–Ω—è–π—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ.
```

–ë–æ—Ç **–Ω–µ –ø—Ä–æ—Å—Ç–æ –∏—â–µ—Ç** –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –ø–æ –∑–∞–ø—Ä–æ—Å—É. –û–Ω:

- **–†–∞–∑–±–∏–≤–∞–µ—Ç** –∑–∞–ø—Ä–æ—Å ¬´–∑–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö¬ª –Ω–∞ 5 –ø–æ–∑–∏—Ü–∏–π: —è–π—Ü–∞, —Ö–ª–µ–±, –º–∞—Å–ª–æ, —Å—ã—Ä, —Å–æ–∫
- **–ò—â–µ—Ç** –∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –í–∫—É—Å–í–∏–ª–ª
- **–í—ã–±–∏—Ä–∞–µ—Ç** –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ —Ü–µ–Ω–µ –∏ —Ä–µ–π—Ç–∏–Ω–≥—É
- **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ ‚Äî —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—Ü–∏–π)
- **–°–æ–∑–¥–∞—ë—Ç** –æ–¥–Ω—É —Å—Å—ã–ª–∫—É –Ω–∞ –≥–æ—Ç–æ–≤—É—é –∫–æ—Ä–∑–∏–Ω—É —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é

–ò –µ—â—ë –ø–∞—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–æ–±–µ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –∫–∞—Ä–±–æ–Ω–∞—Ä—ã –Ω–∞ 4 –ø–æ—Ä—Ü–∏–∏

–ë–æ—Ç: (–ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤: —Å–ø–∞–≥–µ—Ç—Ç–∏, –±–µ–∫–æ–Ω/–≥—É–∞–Ω—á–∞–ª–µ, 
—è–π—Ü–∞, –ø–∞—Ä–º–µ–∑–∞–Ω, –ø–µ—Ä–µ—Ü —á—ë—Ä–Ω—ã–π ‚Äî –∏ –∏—â–µ—Ç –∫–∞–∂–¥—ã–π)

üçù –ö–∞—Ä–±–æ–Ω–∞—Ä–∞ –Ω–∞ 4 –ø–æ—Ä—Ü–∏–∏ (5 —Ç–æ–≤–∞—Ä–æ–≤, 987 —Ä—É–±):
1. –°–ø–∞–≥–µ—Ç—Ç–∏, 450 –≥ ‚Äî 89 —Ä—É–± √ó 2 = 178 —Ä—É–±
2. –ë–µ–∫–æ–Ω —Å—ã—Ä–æ–∫–æ–ø—á—ë–Ω—ã–π, 150 –≥ ‚Äî 219 —Ä—É–± √ó 2 = 438 —Ä—É–±
3. –Ø–π—Ü–∞ –∫—É—Ä–∏–Ω—ã–µ –°0, 10 —à—Ç ‚Äî 89 —Ä—É–± √ó 1 = 89 —Ä—É–±
4. –°—ã—Ä –ü–∞—Ä–º–µ–∑–∞–Ω, 150 –≥ ‚Äî 259 —Ä—É–± √ó 1 = 259 —Ä—É–±
5. –ü–µ—Ä–µ—Ü —á—ë—Ä–Ω—ã–π –º–æ–ª–æ—Ç—ã–π, 50 –≥ ‚Äî 23 —Ä—É–± √ó 1 = 23 —Ä—É–±

–ò—Ç–æ–≥–æ: 987 —Ä—É–±
–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É (—Å—Å—ã–ª–∫–∞)
```

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ó–∞–ø–æ–º–Ω–∏, —è –ª—é–±–ª—é –±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ –º–æ–ª–æ–∫–æ

–ë–æ—Ç: –ó–∞–ø–æ–º–Ω–∏–ª! –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –º–æ–ª–æ–∫–∞ –±—É–¥—É –ø–æ–¥–±–∏—Ä–∞—Ç—å 
–±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ó–∞–∫–∞–∂–∏ –º–æ–ª–æ–∫–æ –∏ —Ö–ª–æ–ø—å—è

–ë–æ—Ç: (–∏—â–µ—Ç ¬´–±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ –º–æ–ª–æ–∫–æ¬ª –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ ¬´–º–æ–ª–æ–∫–æ¬ª)
ü•£ ...
```

---

## –ü–æ—á–µ–º—É –Ω–µ ChatGPT, –∞ GigaChat

–ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –º–Ω–µ –∑–∞–¥–∞—é—Ç ‚Äî –ø–æ—á–µ–º—É GigaChat?

**–¢—Ä–∏ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫.** GigaChat –æ–±—É—á–µ–Ω –Ω–∞ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å ¬´–≤–æ–∑—å–º–∏ –±–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π –∏ –¥–æ–∫—Ç–æ—Ä—Å–∫—É—é¬ª ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ.

2. **Function calling.** GigaChat –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –º–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –µ–π –Ω—É–∂–Ω–æ –ø–æ–∏—Å–∫–∞—Ç—å —Ç–æ–≤–∞—Ä, –∞ –∫–æ–≥–¥–∞ —Å–æ–±—Ä–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É. –≠—Ç–æ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥ –∏ –Ω–µ —Ä–µ–≥—É–ª—è—Ä–∫–∏, –∞ –Ω–∞—Å—Ç–æ—è—â–µ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π.

3. **–†–æ—Å—Å–∏–π—Å–∫–∞—è —é—Ä–∏—Å–¥–∏–∫—Ü–∏—è.** –î–∞–Ω–Ω—ã–µ –Ω–µ —É—Ö–æ–¥—è—Ç –∑–∞ —Ä—É–±–µ–∂, –Ω–µ –Ω—É–∂–µ–Ω VPN, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏–∑ –†–æ—Å—Å–∏–∏.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –æ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∫–æ—Ä–∑–∏–Ω—ã

–í–æ—Ç –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–°–æ–±–µ—Ä–∏ –∑–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö¬ª:

```
üì± Telegram
   ‚îÇ
   ‚ñº
üõ° ThrottlingMiddleware (rate limiting: 5 msg / 60 —Å–µ–∫)
   ‚îÇ
   ‚ñº
üéØ Handler (aiogram 3)
   ‚îÇ
   ‚ñº
üß† GigaChatService ‚Üê function calling loop
   ‚îÇ
   ‚îú‚îÄ‚îÄ‚ñ∫ GigaChat API
   ‚îÇ       ¬´–ù—É–∂–Ω–æ –ø–æ–∏—Å–∫–∞—Ç—å —è–π—Ü–∞¬ª
   ‚îÇ       ¬´–¢–µ–ø–µ—Ä—å –∏—â—É —Ö–ª–µ–±¬ª
   ‚îÇ       ¬´–°–æ–±–∏—Ä–∞—é –∫–æ—Ä–∑–∏–Ω—É¬ª
   ‚îÇ
   ‚îú‚îÄ‚îÄ‚ñ∫ MCP Client ‚îÄ‚îÄ‚ñ∫ –í–∫—É—Å–í–∏–ª–ª MCP Server
   ‚îÇ       vkusvill_products_search(q="—è–π—Ü–∞")
   ‚îÇ       vkusvill_products_search(q="—Ö–ª–µ–±")
   ‚îÇ       vkusvill_cart_link_create(products=[...])
   ‚îÇ
   ‚îú‚îÄ‚îÄ‚ñ∫ PreferencesStore (SQLite)
   ‚îÇ       ¬´–≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª—é–±–∏—Ç –±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ –º–æ–ª–æ–∫–æ¬ª
   ‚îÇ
   ‚îî‚îÄ‚îÄ‚ñ∫ RecipeStore (SQLite)
           ¬´–ö–∞—Ä–±–æ–Ω–∞—Ä–∞ = —Å–ø–∞–≥–µ—Ç—Ç–∏ + –±–µ–∫–æ–Ω + —è–π—Ü–∞ + –ø–∞—Ä–º–µ–∑–∞–Ω¬ª
```

–ß–µ—Ç—ã—Ä–µ —Å–ª–æ—è: Telegram ‚Üí Handlers ‚Üí GigaChat-—Å–µ—Ä–≤–∏—Å ‚Üí MCP + —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç function calling

–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚Äî —ç—Ç–æ —Ü–∏–∫–ª function calling. –ò–º–µ–Ω–Ω–æ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ—Ç—É ¬´–¥—É–º–∞—Ç—å¬ª –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è.

**–ò–¥–µ—è –ø—Ä–æ—Å—Ç–∞—è:** –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º GigaChat –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è). –ú–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–∑–≤–∞—Ç—å, —Å –∫–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ú—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –≤—ã–∑–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∏ GigaChat —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ.

–í–æ—Ç –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∫–æ–¥–µ. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª ‚Äî –º–µ—Ç–æ–¥ `process_message`:

```python
async def process_message(self, user_id: int, text: str) -> str:
    """–û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    history = self._get_history(user_id)
    history.append(Messages(role=MessagesRole.USER, content=text))

    functions = await self._get_functions()

    for step in range(self._max_tool_calls):
        # 1. –°–ø—Ä–∞—à–∏–≤–∞–µ–º GigaChat: —á—Ç–æ –¥–µ–ª–∞—Ç—å?
        response = await asyncio.to_thread(
            self._client.chat,
            Chat(messages=history, functions=functions, function_call="auto"),
        )

        msg = response.choices[0].message
        self._append_assistant_message(history, msg)

        # 2. –ï—Å–ª–∏ GigaChat –≤–µ—Ä–Ω—É–ª —Ç–µ–∫—Å—Ç ‚Äî –æ—Ç–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        if not msg.function_call:
            return msg.content or "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç."

        # 3. –ò–Ω–∞—á–µ ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ–º –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        tool_name = msg.function_call.name
        args = self._parse_tool_arguments(msg.function_call.arguments)

        result = await self._execute_tool(tool_name, args, user_id)

        # 4. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞
        history.append(Messages(
            role=MessagesRole.FUNCTION, content=result, name=tool_name,
        ))

    return "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–Ω—è–ª–∞ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —à–∞–≥–æ–≤."
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: **–Ω–µ—Ç if-else –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**. GigaChat —Å–∞–º —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –≤—ã–∑—ã–≤–∞—Ç—å. –ù–∞ –∑–∞–ø—Ä–æ—Å ¬´–∑–∞–≤—Ç—Ä–∞–∫ –Ω–∞ –¥–≤–æ–∏—Ö¬ª –º–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```
–®–∞–≥ 1: user_preferences_get() ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
–®–∞–≥ 2: vkusvill_products_search(q="—è–π—Ü–∞") ‚Üí –Ω–∞–π—Ç–∏ —è–π—Ü–∞
–®–∞–≥ 3: vkusvill_products_search(q="—Ö–ª–µ–±") ‚Üí –Ω–∞–π—Ç–∏ —Ö–ª–µ–±
–®–∞–≥ 4: vkusvill_products_search(q="–º–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ") ‚Üí –Ω–∞–π—Ç–∏ –º–∞—Å–ª–æ
–®–∞–≥ 5: vkusvill_products_search(q="—Å—ã—Ä") ‚Üí –Ω–∞–π—Ç–∏ —Å—ã—Ä
–®–∞–≥ 6: vkusvill_products_search(q="—Å–æ–∫") ‚Üí –Ω–∞–π—Ç–∏ —Å–æ–∫
–®–∞–≥ 7: vkusvill_cart_link_create(products=[...]) ‚Üí —Å–æ–±—Ä–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É
–®–∞–≥ 8: ‚Üí —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

7 –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ~10-15 —Å–µ–∫—É–Ω–¥ ‚Äî –∏ –≥–æ—Ç–æ–≤–∞—è –∫–æ—Ä–∑–∏–Ω–∞.

---

## MCP: –∫–∞–∫ –±–æ—Ç –æ–±—â–∞–µ—Ç—Å—è —Å –í–∫—É—Å–í–∏–ª–ª

MCP (Model Context Protocol) ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –æ—Ç Anthropic –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è LLM –∫ –≤–Ω–µ—à–Ω–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º. –í–∫—É—Å–í–∏–ª–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–π MCP-—Å–µ—Ä–≤–µ—Ä, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—ã.

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º ‚Äî –æ–±—ã—á–Ω—ã–π JSON-RPC –ø–æ–≤–µ—Ä—Ö HTTP. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ –∏ –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

```python
class VkusvillMCPClient:
    """–ö–ª–∏–µ–Ω—Ç –¥–ª—è MCP-—Å–µ—Ä–≤–µ—Ä–∞ –í–∫—É—Å–í–∏–ª–ª."""

    async def _ensure_initialized(self) -> httpx.AsyncClient:
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MCP-—Å–µ—Å—Å–∏–∏."""
        client = await self._get_client()
        if self._session_id is not None:
            return client

        result = await self._rpc_call(client, "initialize", {
            "protocolVersion": "2025-03-26",
            "capabilities": {},
            "clientInfo": {"name": "vkuswill-bot", "version": "0.2.0"},
        })
        await self._rpc_notify(client, "notifications/initialized")
        return client

    async def call_tool(self, name: str, arguments: dict) -> str:
        """–í—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ MCP-—Å–µ—Ä–≤–µ—Ä–µ."""
        client = await self._ensure_initialized()
        result = await self._rpc_call(
            client, "tools/call", {"name": name, "arguments": arguments},
        )
        # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –æ—Ç–≤–µ—Ç–∞
        texts = [item["text"] for item in result.get("content", [])
                 if item.get("type") == "text"]
        return "\n".join(texts)
```

–°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç —Ç—Ä–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
- **vkusvill_products_search** ‚Äî –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
- **vkusvill_product_details** ‚Äî –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞ (—Å–æ—Å—Ç–∞–≤, –ö–ë–ñ–£)
- **vkusvill_cart_link_create** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É

–ú—ã –º–∞–ø–ø–∏–º –æ–ø–∏—Å–∞–Ω–∏—è —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç GigaChat ‚Äî –∏ –¥–∞–ª—å—à–µ –º–æ–¥–µ–ª—å —Å–∞–º–∞ –∏–º–∏ –ø–æ–ª—å–∑—É–µ—Ç—Å—è.

---

## –ü—Ä–æ–º–ø—Ç: —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç

–ú–æ–¥–µ–ª—å ‚Äî —ç—Ç–æ –º–æ–∑–≥. –ù–æ –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ —ç—Ç–æ—Ç –º–æ–∑–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–∞–æ—Ç–∏—á–Ω–æ. GigaChat –º–æ–∂–µ—Ç:
- –ó–∞—Å—ã–ø–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –ò—Å–∫–∞—Ç—å —Ç–æ–≤–∞—Ä –¥–ª–∏–Ω–Ω–æ–π —Ñ—Ä–∞–∑–æ–π ¬´–º–∞–∫–∞—Ä–æ–Ω—ã –∏–∑ —Ç–≤—ë—Ä–¥—ã—Ö —Å–æ—Ä—Ç–æ–≤ –ø—à–µ–Ω–∏—Ü—ã 400 –≥—Ä¬ª (–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥—ë—Ç)
- –ó–∞–±—ã—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —Ä–µ—Ü–µ–ø—Ç–∞
- –ù–µ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ä—Ü–∏–π

–ü—Ä–æ–º–ø—Ç –¥–ª—è –±–æ—Ç–∞ ‚Äî —ç—Ç–æ 100+ —Å—Ç—Ä–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π: –∫–∞–∫ —Ä–∞–∑–±–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã, –∫–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞, –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤ –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –æ—Ç–≤–µ—á–∞—Ç—å. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤:

```
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç —Å–æ–±—Ä–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–∞ —É–∂–∏–Ω/–æ–±–µ–¥/–∑–∞–≤—Ç—Ä–∞–∫ ‚Äî 
–æ–Ω —Ö–æ—á–µ—Ç –ü–û–õ–ù–û–¶–ï–ù–ù–´–ô –ù–ê–ë–û–† –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –∞ –Ω–µ –æ–¥–Ω—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
–ù–∞–ø—Ä–∏–º–µ—Ä, "–ø–∞—Å—Ç–∞ –Ω–∞ —É–∂–∏–Ω" = –º–∞–∫–∞—Ä–æ–Ω—ã + —Å–æ—É—Å + —Å—ã—Ä (–ø–∞—Ä–º–µ–∑–∞–Ω –∏–ª–∏ –¥—Ä—É–≥–æ–π).
```

```
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏—â–∏ –û–¢–î–ï–õ–¨–ù–´–ú –∑–∞–ø—Ä–æ—Å–æ–º ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º.
–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: "—Å–ø–∞–≥–µ—Ç—Ç–∏", "—Å–æ—É—Å –ø–µ—Å—Ç–æ", "–ø–∞—Ä–º–µ–∑–∞–Ω".
–ü–ª–æ—Ö–∏–µ –∑–∞–ø—Ä–æ—Å—ã: "–º–∞–∫–∞—Ä–æ–Ω—ã —Ç–≤–µ—Ä–¥—ã—Ö —Å–æ—Ä—Ç–æ–≤ –ø—à–µ–Ω–∏—Ü—ã" (—Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π).
```

```
q ‚Äî –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ –≤ –ï–î–ò–ù–ò–¶–ê–• —Ç–æ–≤–∞—Ä–∞ (–ø–æ–ª–µ unit –∏–∑ –ø–æ–∏—Å–∫–∞).
–ü—Ä–∏–º–µ—Ä—ã: unit="–∫–≥" + "1,5 –∫–≥" ‚Üí q=1.5; unit="—à—Ç" + "4 —à—Ç—É–∫–∏" ‚Üí q=4.
```

–ü—Ä–æ–º–ø—Ç ‚Äî —ç—Ç–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ö–∞–∂–¥—ã–π –±–∞–≥ –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏ ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –û–± —ç—Ç–æ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ —Å–µ—Ä–∏–∏.

---

## –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —è –Ω–∞—Å—Ç—É–ø–∏–ª

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞ —Å LLM ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ ¬´–ø–æ–¥–∫–ª—é—á–∏—Ç—å API¬ª. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–æ—Å—å —Ä–µ—à–∞—Ç—å.

### GigaChat –¥—É–±–ª–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤–º–µ—Å—Ç–æ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

–í–º–µ—Å—Ç–æ `{xml_id: 123, q: 3}` –º–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞ `{xml_id: 123}`. API –í–∫—É—Å–í–∏–ª–ª –∏—Ö –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É–µ—Ç –∏ –±–µ—Ä—ë—Ç q=1.

**–†–µ—à–µ–Ω–∏–µ:** –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ–º –¥—É–±–ª–∏ –∏ —Å—É–º–º–∏—Ä—É–µ–º q:

```python
@staticmethod
def _fix_cart_args(arguments: dict) -> dict:
    """–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥—É–±–ª–∏ xml_id (—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å q)."""
    products = arguments.get("products", [])
    merged: dict[int, float] = {}
    order: list[int] = []
    for item in products:
        xml_id = item.get("xml_id")
        q = item.get("q", 1)
        if xml_id in merged:
            merged[xml_id] += q
        else:
            merged[xml_id] = q
            order.append(xml_id)
    arguments["products"] = [
        {"xml_id": xid, "q": merged[xid]} for xid in order
    ]
    return arguments
```

### –ú–æ–¥–µ–ª—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è

–ò–Ω–æ–≥–¥–∞ GigaChat –≤—ã–∑—ã–≤–∞–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞. –ë–µ–∑ –∑–∞—â–∏—Ç—ã –±–æ—Ç —Å–æ–∂—Ä—ë—Ç –≤–µ—Å—å –ª–∏–º–∏—Ç –≤—ã–∑–æ–≤–æ–≤ –∏ –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É.

**–†–µ—à–µ–Ω–∏–µ:** –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤. –ï—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–∑–≤–∞–Ω –¥–≤–∞–∂–¥—ã —Å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```python
def _is_duplicate_call(self, tool_name, args, call_counts, history):
    call_key = f"{tool_name}:{json.dumps(args, sort_keys=True)}"
    call_counts[call_key] = call_counts.get(call_key, 0) + 1
    
    if call_counts[call_key] >= MAX_IDENTICAL_TOOL_CALLS:
        history.append(Messages(
            role=MessagesRole.FUNCTION,
            content='{"error": "–î–∞–Ω–Ω—ã–µ —É–∂–µ –ø–æ–ª—É—á–µ–Ω—ã —Ä–∞–Ω–µ–µ. '
                    '–ò—Å–ø–æ–ª—å–∑—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–∑–æ–≤–∞."}',
            name=tool_name,
        ))
        return True
    return False
```

### –ú—É—Å–æ—Ä –≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

GigaChat —á–∞—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ –ø–æ–∏—Å–∫ –Ω–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∞ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç: ¬´–¢–≤–æ—Ä–æ–≥ 5% 400 –≥—Ä¬ª. –ß–∏—Å–ª–∞ –∏ –µ–¥–∏–Ω–∏—Ü—ã –∑–∞—Å–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫–æ–≤—É—é –≤—ã–¥–∞—á—É.

**–†–µ—à–µ–Ω–∏–µ:** —Ä–µ–≥—É–ª—è—Ä–∫–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏:

```python
_UNIT_PATTERN = re.compile(
    r"\b\d+[,.]?\d*\s*"
    r"(%|—à—Ç\w*|–≥—Ä\w*|–≥\b|–∫–≥\w*|–º–ª\w*|–ª\b|–ª–∏—Ç—Ä\w*|"
    r"–±—É—Ç—ã–ª\w*|–±–∞–Ω–∫\w*|–ø–∞—á\w*|—É–ø\w*|–ø–æ—Ä—Ü\w*)",
    re.IGNORECASE,
)
# "–¢–≤–æ—Ä–æ–≥ 5% 400 –≥—Ä" ‚Üí "–¢–≤–æ—Ä–æ–≥"
# "—Ç—É–Ω–µ—Ü 2 –±–∞–Ω–∫–∏" ‚Üí "—Ç—É–Ω–µ—Ü"
```

### –î—Ä–æ–±–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è —à—Ç—É—á–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

GigaChat —Å—Ç–∞–≤–∏—Ç q=0.68 –¥–ª—è –±–∞–Ω–∫–∏ –æ–≥—É—Ä—Ü–æ–≤ (–µ–¥–∏–Ω–∏—Ü–∞ ‚Äî ¬´—à—Ç¬ª). –ù–µ–ª—å–∑—è –∫—É–ø–∏—Ç—å 0.68 –±–∞–Ω–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:** –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö –¥–ª—è –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü:

```python
_DISCRETE_UNITS = frozenset({"—à—Ç", "—É–ø", "–ø–∞—á", "–±—É—Ç", "–±–∞–Ω", "–ø–∞–∫"})

def fix_unit_quantities(self, args):
    for item in args.get("products", []):
        cached = self._price_cache.get(item.get("xml_id"))
        if cached and cached.get("unit") in self._DISCRETE_UNITS:
            item["q"] = math.ceil(item["q"])
    return args
```

---

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: –Ω–µ –¥–æ–≤–µ—Ä—è–π ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π

–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º ‚Äî GigaChat –º–æ–∂–µ—Ç ¬´–∑–∞–±—ã—Ç—å¬ª –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –∑–∞–≤—Ç—Ä–∞–∫ –∏–∑ 5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –±–æ—Ç –∏—â–µ—Ç –≤—Å–µ 5, –Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ø–∞–¥–∞—é—Ç —Ç–æ–ª—å–∫–æ 4.

–î–ª—è —ç—Ç–æ–≥–æ —è –¥–æ–±–∞–≤–∏–ª **–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–æ—Ä–∑–∏–Ω—ã**. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ `vkusvill_cart_link_create` –±–æ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã —Å –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏:

```python
def verify_cart(self, cart_args, search_log):
    """–°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É —Å –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏."""
    cart_xml_ids = {item["xml_id"] for item in cart_args["products"]}
    
    # –ö–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–º–µ—é—Ç —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ?
    missing_queries = []
    for query, found_ids in search_log.items():
        if not found_ids & cart_xml_ids:
            missing_queries.append(query)
    
    if missing_queries:
        return {
            "missing_queries": missing_queries,
            "action_required": "–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å."
        }
    return {"ok": True}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç GigaChat. –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç `missing_queries` ‚Äî –æ–Ω–∞ –¥–æ—Å–æ–±–µ—Ä—ë—Ç –∫–æ—Ä–∑–∏–Ω—É. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–∞–º–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è: LLM –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É.

---

## –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: –±–æ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤–∫—É—Å—ã

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç ¬´—è –ª—é–±–ª—é –±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ –º–æ–ª–æ–∫–æ¬ª ‚Äî –±–æ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —ç—Ç–æ –≤ SQLite. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ–∏—Å–∫–µ –º–æ–ª–æ–∫–∞ –∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è:

```python
@staticmethod
def _apply_preferences_to_query(query, user_prefs):
    """–ü–æ–¥—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –≤ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å."""
    pref = user_prefs.get(query.lower())
    if pref is None:
        return query
    # "–º–æ–ª–æ–∫–æ" + "–±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ" ‚Üí "–±–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–æ–µ –º–æ–ª–æ–∫–æ"
    if query.lower() in pref.lower():
        return pref
    return f"{query} {pref}"
```

–¢—Ä–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π:
- `user_preferences_get` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º
- `user_preferences_set` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤–æ–µ
- `user_preferences_delete` ‚Äî —É–¥–∞–ª–∏—Ç—å

GigaChat —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ –≤–∏–¥–∏—Ç ¬´–∑–∞–ø–æ–º–Ω–∏¬ª –∏–ª–∏ ¬´—è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é¬ª –≤ —Ç–µ–∫—Å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## –†–µ—Ü–µ–ø—Ç—ã: –æ—Ç –±–ª—é–¥–∞ –∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º

–û—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∏—á–∞ ‚Äî —Ä–µ—Ü–µ–ø—Ç—ã. ¬´–°–æ–±–µ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –±–æ—Ä—â–∞ –Ω–∞ 6 —á–µ–ª–æ–≤–µ–∫¬ª ‚Äî –∏ –±–æ—Ç:

1. –í—ã–∑—ã–≤–∞–µ—Ç `recipe_ingredients(dish="–±–æ—Ä—â", servings=6)`
2. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞–º–∏
3. –ò—â–µ—Ç –∫–∞–∂–¥—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –í–∫—É—Å–í–∏–ª–ª
4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç q —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—Ü–∏–π –∏ —Ä–∞–∑–º–µ—Ä–∞ —É–ø–∞–∫–æ–≤–∫–∏
5. –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É

–°–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ GigaChat —Å –ø—Ä–æ–º–ø—Ç–æ–º:

```python
RECIPE_EXTRACTION_PROMPT = """\
–°–æ—Å—Ç–∞–≤—å –ü–û–õ–ù–´–ô —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –±–ª—é–¥–∞ ¬´{dish}¬ª –Ω–∞ {servings} –ø–æ—Ä—Ü–∏–π.

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON-–º–∞—Å—Å–∏–≤:
[{{"name": "–ª—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π", "quantity": 2, "unit": "—à—Ç", "search_query": "–ª—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π"}}]

–ü—Ä–∞–≤–∏–ª–∞:
- –í–∫–ª—é—á–∏ –í–°–ï –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: –º—è—Å–æ, –æ–≤–æ—â–∏, –∫—Ä—É–ø—ã, —Å–ø–µ—Ü–∏–∏, –º–∞—Å–ª–æ
- –ù–ï –≤–∫–ª—é—á–∞–π: —Å–æ–ª—å, –ø–µ—Ä–µ—Ü, –≤–æ–¥—É ‚Äî –æ–Ω–∏ –µ—Å—Ç—å —É –≤—Å–µ—Ö –¥–æ–º–∞\
"""
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –≤ SQLite, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–æ–≥–æ –∂–µ —Ä–µ—Ü–µ–ø—Ç–∞.

---

## –ó–∞—â–∏—Ç–∞: rate limiting –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ ‚Äî –Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞.

**Rate limiting:** 5 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ middleware –≤ aiogram:

```python
class ThrottlingMiddleware(BaseMiddleware):
    def __init__(self, rate_limit=5, period=60.0):
        self.rate_limit = rate_limit
        self.period = period
        self._user_timestamps = defaultdict(list)

    async def __call__(self, handler, event, data):
        if self._is_rate_limited(event.from_user.id):
            await event.answer("‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥.")
            return None
        return await handler(event, data)
```

**–¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- Prompt injection ‚Äî –ø–æ–ø—ã—Ç–∫–∏ –≤—ã–π—Ç–∏ –∏–∑ —Ä–æ–ª–∏ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- Jailbreak ‚Äî –æ–±—Ö–æ–¥ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- SAST ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: –Ω–µ—Ç `eval()`, `exec()`, `pickle`, –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
- Input validation ‚Äî Unicode-–∞—Ç–∞–∫–∏, XSS, SQL injection, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã

–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ ‚Äî **98%**. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ò–ò-–±–æ—Ç–∞ ‚Äî –≤ –æ–¥–Ω–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç–µ–π.

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ó–∞—á–µ–º |
|-----------|-----------|-------|
| Telegram | aiogram 3 | Async-first —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –±–æ—Ç–æ–≤ |
| –ò–ò-–º–æ–¥–µ–ª—å | GigaChat (–°–±–µ—Ä) | Function calling + —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –í–∫—É—Å–í–∏–ª–ª | MCP (JSON-RPC) | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è LLM-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ |
| HTTP-–∫–ª–∏–µ–Ω—Ç | httpx | Async, keep-alive, retry |
| –•—Ä–∞–Ω–∏–ª–∏—â–µ | SQLite + aiosqlite | –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è, –∫–µ—à —Ä–µ—Ü–µ–ø—Ç–æ–≤ |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | pydantic-settings | –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ .env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| –¢–µ—Å—Ç—ã | pytest + pytest-asyncio + respx | 98% –ø–æ–∫—Ä—ã—Ç–∏–µ |
| CI/CD | GitHub Actions | –¢–µ—Å—Ç—ã –Ω–∞ Python 3.11‚Äì3.13, –ª–∏–Ω—Ç–∏–Ω–≥, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã |

---

## –ö–ª—é—á–µ–≤—ã–µ —Ü–∏—Ñ—Ä—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|---------|
| –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (—Ç–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å) | 10‚Äì15 —Å–µ–∫—É–Ω–¥ |
| –®–∞–≥–æ–≤ function calling | 5‚Äì8 –Ω–∞ –∑–∞–ø—Ä–æ—Å |
| –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–¥–±–æ—Ä–∞ (–∫–æ—Ä–∑–∏–Ω–∞ ‚âà –∑–∞–ø—Ä–æ—Å) | ~90% (—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π) |
| –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ | 98% |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (–±–µ–∑ —Ç–µ—Å—Ç–æ–≤) | ~1500 |
| –°—Ç—Ä–æ–∫ —Ç–µ—Å—Ç–æ–≤ | ~2500 |

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ

–≠—Ç–æ –ø–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è —Å–µ—Ä–∏–∏. –í —Å–ª–µ–¥—É—é—â–∏—Ö ‚Äî –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

1. **MCP-–ø—Ä–æ—Ç–æ–∫–æ–ª** ‚Äî –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å GigaChat –∫ –ª—é–±–æ–º—É API —á–µ—Ä–µ–∑ Model Context Protocol. –†–∞–∑–±–µ—Ä—ë–º JSON-RPC, SSE, —Å–µ—Å—Å–∏–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
2. **Function calling** ‚Äî 10 –≥—Ä–∞–±–ª–µ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —è –Ω–∞—Å—Ç—É–ø–∏–ª: –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –¥–æ –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–ò-–±–æ—Ç–∞** ‚Äî –∫–∞–∫ –¥–æ—Å—Ç–∏—á—å 98% –ø–æ–∫—Ä—ã—Ç–∏—è, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É –∫–∞–∂–¥—ã–π —Ä–∞–∑. Prompt injection, jailbreak –∏ –¥—Ä—É–≥–∏–µ –∞—Ç–∞–∫–∏

---

## –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å

- **–ë–æ—Ç –≤ Telegram:** [—Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞] (TODO: –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π)
- **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:** [GitHub](https://github.com/mrPDA/vkuswill_bot) ‚Äî MIT-–ª–∏—Ü–µ–Ω–∑–∏—è, –º–æ–∂–Ω–æ —Ñ–æ—Ä–∫–∞—Ç—å –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å

–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ —Ç–µ–º–∞ –ò–ò-–±–æ—Ç–æ–≤ —Å function calling ‚Äî –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∞—Ç—å–∏. –ò –¥–µ–ª–∏—Ç–µ—Å—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö: –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –≤—ã –±—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Å –ø–æ–º–æ—â—å—é LLM + MCP?

---

*–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö ‚Äî –æ—Ç–≤–µ—á—É –Ω–∞ –∫–∞–∂–¥—ã–π.*
