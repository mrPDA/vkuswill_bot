---
description: "Структура и правила создания Pull Request. Подключается при: создать PR, pull request, gh pr create, merge request, отправить на ревью."
alwaysApply: false
---

# Правила создания Pull Request

## Структура PR

### Заголовок

Используйте формат как для коммитов:

```
<тип>(<область>): <краткое описание>
```

**Примеры:**
- `feat(bot): добавить команду /help`
- `fix(gigachat): исправить timeout при запросах`
- `refactor(mcp): улучшить архитектуру клиента`

### Описание

```markdown
## Что изменено

Краткое описание изменений (2-3 предложения)

## Зачем

Объяснение, почему это необходимо

## Как проверить

1. Шаги для тестирования
2. Команды для запуска
3. Ожидаемый результат

## Связанные issue

Closes #123
Refs #456

## Чеклист

- [ ] Код протестирован локально
- [ ] Добавлены/обновлены тесты
- [ ] Документация обновлена (если нужно)
- [ ] Нет конфликтов с main
- [ ] Код соответствует стандартам проекта
```

## Примеры

### ✅ ХОРОШИЙ PR

**Заголовок:** `feat(bot): добавить команду /status для проверки состояния бота`

**Описание:**
```markdown
## Что изменено

Добавлена новая команда /status, которая показывает:
- Время работы бота
- Количество обработанных сообщений
- Статус подключения к GigaChat и MCP серверу

## Зачем

Упрощает мониторинг и отладку бота для администраторов

## Как проверить

1. Запустить бота: `uv run python -m vkuswill_bot`
2. Отправить команду `/status`
3. Убедиться, что отображается корректная информация

## Чеклист

- [x] Код протестирован локально
- [x] Добавлены тесты в test_handlers.py
- [x] Обновлен README с новой командой
- [x] Нет конфликтов с main
```

### ❌ ПЛОХОЙ PR

**Заголовок:** `Update`

**Описание:** `Добавил новую команду`

## Правила

1. **Один PR = одна задача**: не смешивайте несвязанные изменения
2. **Размер PR**: стремитесь к изменениям до 400 строк кода
3. **Проверка перед созданием**: убедитесь, что код работает
4. **Чистая история**: используйте `git rebase` для упорядочивания коммитов
5. **Актуальность**: синхронизируйте с main перед созданием PR
6. **Ревьюеры**: назначайте минимум 1 ревьюера

## Подготовка к merge

```bash
# Синхронизация с main
git checkout main
git pull origin main
git checkout feature/my-feature
git rebase main

# Разрешение конфликтов (если есть)
# ...

# Пуш изменений
git push origin feature/my-feature --force-with-lease
```
